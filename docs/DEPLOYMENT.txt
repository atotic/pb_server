Binaries required:
chromium -- chromium built with pageCapture.saveAsPDF patch
pdftk -- pdf toolkit, for converting to pdf
growl, growlnotify -- development only, growl errors in logs

script/delayed_job starts the delayed_job. It logs (hardcoded) into log/delayed_job.log
Moved all common settings into settings.rb

LOGGING: needs to be unified, differs between :deploy and :development
see http://stackoverflow.com/questions/2239240/use-rackcommonlogger-in-sinatra on how to unify Sinatra and stdout logging
Rack has a logger with API incompatible with Ruby::Logger
DelayedJob has a RubyLogger
sveg.rb has a LOGGER

CHROME deployment:
install extension from command line
http://code.google.com/chrome/extensions/external_extensions.html
running multiple instances of chrome
https://sites.google.com/a/yarina.org/dougs-notes/home/mac-os-x/multiple-instances-of-chrome

Need strategy how things work on my Mac, vs how they work on Linux
Q: How do I start my server on different ports?
A: Command line for thin http://stackoverflow.com/questions/4389181/passing-options-to-rackup-via-a-sinatra-application

A: Fixed the bundling....
bundle update

run nginx as a load balancer, have only 1 app server in the back
http://markmaunder.com/2009/12/01/how-to-handle-1000s-of-concurrent-users-on-a-360mb-vps/

http://library.linode.com/web-servers/nginx/configuration/front-end-proxy-and-software-load-balancing

http://www.kalzumeus.com/2010/01/15/deploying-sinatra-on-ubuntu-in-which-i-employ-a-secretary/

http://pemberthy.blogspot.com/2009/02/deploying-sinatra-applications-with.html
http://blog.sosedoff.com/2009/07/04/how-to-deploy-sinatra-merb-applications-with-nginx/

http://library.linode.com/web-servers/nginx/configuration/basic

Code:

thin - delayed_job server:
	- resizing images
	- generating pdfs
thin - sveg app server
thin - comet server
thin - upload server?
database running somewhere...


my setup:
sveg app server
comet: comet server?
delayed_job server. Resizing of images, generating pdfs.
should comet server be another delayed_job server?


delayed_job
comet
app



Clean up file serving, storage